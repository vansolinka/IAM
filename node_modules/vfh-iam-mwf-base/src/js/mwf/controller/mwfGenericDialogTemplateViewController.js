/**
 * @author JÃ¶rn Kreutel
 */
import * as mwf from "../mwf.js";

export class GenericDialogTemplateViewController extends mwf.EmbeddedViewController {

    constructor() {
        super();
    }

    /*
     * in onresume we set the action callbacks
     */
    async onresume() {
        // do databinding, set listeners, initialise the view
        console.log("root: " + this.root);
        console.log("viewProxy: " + this.root.viewProxy);

        // we will be passed arguments that specify action bindings
        if (!this.args.actionBindings) {
            console.warn("no actionBindings passed to handle actions in template: " + this.root.getAttribute("data-mwf-templatename"));
        } else {
            var action;
            for (action in this.args.actionBindings) {
                console.log("adding binding for action: " + action);
                this.root.viewProxy.bindAction(action,this.args.actionBindings[action]);
            }
        }

        // call the superclass once creation is done
        await super.onresume();
    };

}

